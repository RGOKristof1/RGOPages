<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Text Saver</title>
</head>
<body>

    <!-- Szövegmező -->
    <textarea id="textInput" rows="10" cols="50" placeholder="Írd ide a menteni kívánt szöveget..."></textarea>
    <br><br>

    <!-- Gomb a mentéshez -->
    <button id="saveBtn">Save</button>

    <p id="status"></p>

    <script>
        document.getElementById("saveBtn").addEventListener("click", async () => {
            const text = document.getElementById("textInput").value;
            const status = document.getElementById("status");
            status.textContent = "Saving...";

            try {
                const response = await fetch(
                    "https://api.github.com/repos/YOUR_USERNAME/rgopages.hu/actions/workflows/update-text.yml/dispatches",
                    {
                        method: "POST",
                        headers: {
                            "Accept": "application/vnd.github+json",
                        },
                        body: JSON.stringify({
                            ref: "main",
                            inputs: {
                                newtext: text
                            }
                        })
                    }
                );

                if (response.ok) {
                    status.textContent = "Saved! (Action is running...)";
                } else {
                    status.textContent = "Error! Can't start workflow.";
                }

            } catch (err) {
                status.textContent = "Network error!";
            }
        });
    </script>
</body>
</html>
